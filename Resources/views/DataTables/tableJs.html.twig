{% if includeRequiredJs %}
    <script type="text/javascript" src="{{asset('bundles/nhacsamdatatables/js/jquery.dataTables.min.js')}}"></script>
{% endif %}
<script>

$(document).ready(function() {
    var oTable = $('#dataTable-{{ builder.name }}').DataTable({
        "displayLength": 50,    
        "columns": [
            {% if builder.hasViewColumn %}
                {
                    type: null,
                    name: "nhacsam_dt_view",
                    orderable: false,
                    searchable: false
                },
            {% endif %}
            {% for col in builder.columns %}
                {
                    type:  {{ dataTableType(col.type, col.dateFormat)|raw }},
                    name: "{{ col.name }}",
                    orderable: {{ col.sortable ? 'true' : 'false' }},
                    searchable: {{ col.searchable ? 'true' : 'false' }}
                }, 
            {% endfor %}
        ],
        serverSide: {{ builder.useClientSide ? 'false' : 'true' }},
        {% if not builder.useClientSide %}
            ajax : "{{ url('nhacsam_datatables_serverside_ajax', {builder_name: builder.name}) }}"
        {% endif %}


    });
{#
    $('#all-reservations_filter label').remove();
    $('#all-reservations_filter').append($('#custom_all-reservations_filter').html());
    $('#custom_all-reservations_filter').remove();




    $('#dataTable-search').on( 'change', function(){
        oTable.search($(this).val()).draw();

    });

    $('#date-picker').datepicker({
        dateFormat: 'yy-mm-dd',
        onSelect:function(date){
            $('#dataTable-search').val(date);
            oTable.search(date).draw();
        }
    });

    $("#utils-search li a").click(function(e){
        var date = $(this).data('val');
        $('#dataTable-search').val(date);
        oTable.search(date).draw();
        e.preventDefault();
    });#}


} );
</script>